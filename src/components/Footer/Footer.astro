---
import { Icon } from "astro-icon/components";
import FooterLink from "./FooterLink.astro";

// utils
import { getLocaleFromUrl } from "../../js/localeUtils";
import { getTranslatedData } from "../../js/translationUtils";
import { footerData } from "@config/en/footerData.json";

const currLocale = getLocaleFromUrl(Astro.url);
const siteData = getTranslatedData("siteData", currLocale);
---

<footer class="border-t border-base-200 bg-base-100 dark:border-base-800 dark:bg-base-950">
  <div class="site-container py-12 md:py-16">
    <div class="grid gap-12 sm:grid-cols-2 lg:grid-cols-4">
      {footerData.map((section) => (
        <div>
          <h3 class="mb-4 text-lg font-medium">{section.title}</h3>
          <ul class="space-y-2">
            {section.links.map((link) => (
              <li>
                <FooterLink href={link.link} newTab={link.newTab}>
                  {link.text}
                </FooterLink>
              </li>
            ))}
          </ul>
        </div>
      ))}
    </div>

    <div class="mt-12 flex flex-col items-center justify-between gap-4 border-t border-base-200 pt-8 dark:border-base-800 md:flex-row">
      <div class="flex items-center gap-2">
        <Icon name="qdaria/QDwordmark3" class="h-8 w-auto" />
      </div>

      <div class="flex flex-wrap items-center justify-center gap-x-4 gap-y-2 text-sm text-base-500 dark:text-base-400">
        <FooterLink href="/privacy">Privacy Policy</FooterLink>
        <FooterLink href="/terms">Terms of Service</FooterLink>
        <span>&copy; {new Date().getFullYear()} QDaria. All rights reserved.</span>
      </div>

      <div class="flex gap-4">
        <a
          href="https://github.com/qdaria"
          class="text-base-500 transition-colors hover:text-base-700 dark:text-base-400 dark:hover:text-base-300"
          target="_blank"
          rel="noopener noreferrer"
        >
          <span class="sr-only">GitHub</span>
          <Icon name="tabler/brand-github" class="size-6" />
        </a>
        <a
          href="https://twitter.com/qdaria"
          class="text-base-500 transition-colors hover:text-base-700 dark:text-base-400 dark:hover:text-base-300"
          target="_blank"
          rel="noopener noreferrer"
        >
          <span class="sr-only">Twitter</span>
          <Icon name="tabler/brand-twitter" class="size-6" />
        </a>
        <a
          href="https://linkedin.com/company/qdaria"
          class="text-base-500 transition-colors hover:text-base-700 dark:text-base-400 dark:hover:text-base-300"
          target="_blank"
          rel="noopener noreferrer"
        >
          <span class="sr-only">LinkedIn</span>
          <Icon name="tabler/brand-linkedin" class="size-6" />
        </a>
      </div>
    </div>
  </div>
</footer>
