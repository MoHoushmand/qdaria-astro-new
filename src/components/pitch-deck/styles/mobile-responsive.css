/**
 * Mobile Responsiveness Utilities for QDaria Pitch Deck
 * Ensures perfect mobile experience across all devices
 */

/* Base Mobile Optimizations */
@media (max-width: 768px) {
  /* Prevent horizontal scroll */
  html, body {
    overflow-x: hidden !important;
    max-width: 100vw !important;
  }

  /* Touch-friendly tap targets */
  button, a, [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }

  /* Responsive images */
  img {
    max-width: 100%;
    height: auto;
  }

  /* Responsive charts */
  .recharts-responsive-container {
    min-height: 300px !important;
  }

  /* Table horizontal scroll */
  .qdaria-data-table-wrapper {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    margin: 0 -1rem;
    padding: 0 1rem;
  }

  table {
    min-width: 600px;
  }

  /* Card spacing */
  .qdaria-card,
  .qdaria-chart-container {
    margin-left: 0;
    margin-right: 0;
  }

  /* Typography scaling */
  .qdaria-gradient-text {
    word-wrap: break-word;
    overflow-wrap: break-word;
  }

  /* Tabs scrolling */
  [role="tablist"] {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
  }

  [role="tablist"]::-webkit-scrollbar {
    height: 4px;
  }

  [role="tablist"]::-webkit-scrollbar-thumb {
    background: rgba(0, 212, 255, 0.3);
    border-radius: 2px;
  }
}

/* Small phones (375px and below) */
@media (max-width: 375px) {
  /* Extra compact spacing */
  .space-y-6 {
    gap: 1rem;
  }

  .space-y-8 {
    gap: 1.5rem;
  }

  /* Smaller text on tiny screens */
  h1 {
    font-size: 1.5rem !important;
    line-height: 2rem !important;
  }

  h2 {
    font-size: 1.25rem !important;
    line-height: 1.75rem !important;
  }

  /* Compact cards */
  .qdaria-stat-card {
    padding: 0.75rem !important;
  }

  /* Smaller icons */
  .lucide {
    width: 1rem;
    height: 1rem;
  }
}

/* Touch interaction improvements */
@media (hover: none) and (pointer: coarse) {
  /* Larger touch targets */
  button,
  [role="tab"],
  [role="button"] {
    padding: 0.75rem 1rem;
  }

  /* Remove hover states on touch devices */
  *:hover {
    transition: none;
  }

  /* Better active states */
  *:active {
    opacity: 0.7;
    transition: opacity 0.1s ease;
  }
}

/* Landscape mobile orientation */
@media (max-height: 500px) and (orientation: landscape) {
  /* Reduce vertical spacing in landscape */
  .space-y-6, .space-y-8 {
    gap: 1rem;
  }

  /* Compact headers */
  h1, h2 {
    margin-top: 0.5rem;
    margin-bottom: 0.5rem;
  }

  /* Sidebar should collapse in landscape */
  aside {
    display: none;
  }
}

/* Specific chart responsiveness */
@media (max-width: 768px) {
  /* Radar charts */
  .recharts-polar-angle-axis-tick text {
    font-size: 10px !important;
  }

  /* Pie charts */
  .recharts-pie-label-text {
    font-size: 11px !important;
  }

  /* Bar/Line chart axes */
  .recharts-cartesian-axis-tick text {
    font-size: 11px !important;
  }

  /* Tooltip */
  .recharts-tooltip-wrapper {
    font-size: 12px !important;
  }

  /* Legend */
  .recharts-legend-wrapper {
    font-size: 11px !important;
  }
}

/* Grid responsiveness */
@media (max-width: 640px) {
  /* Force single column on small screens for complex grids */
  .grid-cols-4,
  .grid-cols-5,
  .grid-cols-6,
  .md\:grid-cols-4,
  .md\:grid-cols-5,
  .md\:grid-cols-6 {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  }

  .lg\:grid-cols-2,
  .lg\:grid-cols-3 {
    grid-template-columns: repeat(1, minmax(0, 1fr)) !important;
  }
}

/* Safe area insets for notched devices */
@supports (padding: env(safe-area-inset-left)) {
  .pitch-deck-container {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* Accessibility: Reduced motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Print optimization */
@media print {
  .sidebar,
  nav,
  [role="navigation"] {
    display: none !important;
  }

  .pitch-deck-container {
    width: 100% !important;
    max-width: none !important;
  }
}
