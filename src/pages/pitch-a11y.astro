---
import PitchDeck from '@/components/pitch-deck/PitchDeck';

const title = 'QDaria Investor Pitch Deck - Series A Funding';
const description = 'QDaria Quantum+AI Platform - â‚¬12M Investment Opportunity. Fully accessible WCAG 2.1 AA compliant presentation.';
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content={description} />
  <title>{title}</title>
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />

  <!-- Critical Resource Hints -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" />

  <!-- Preload Critical Assets -->
  <link rel="preload" href="/logomark.webp" as="image" type="image/webp" />
  <link rel="preload" href="/logomark.png" as="image" type="image/png" />

  <!-- Critical CSS Inline (extracted from main bundle) -->
  <style>
    /* Critical above-the-fold styles */
    *,::before,::after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}
    html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif;font-feature-settings:normal;font-variation-settings:normal}
    body{margin:0;line-height:inherit;min-height:100vh}
    .pitch-deck-loading{display:flex;align-items:center;justify-content:center;min-height:100vh;background:linear-gradient(to bottom right,#0f172a,#1e3a8a,#581c87)}
    /* Screen reader only utility */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border-width: 0;
    }
  </style>
</head>
<body>
  <!-- Skip link for keyboard navigation (WCAG 2.4.1) -->
  <a
    href="#main-content"
    class="skip-link"
  >
    Skip to main content
  </a>

  <!-- Loading state while React hydrates -->
  <div class="pitch-deck-loading" id="pitch-loading" role="status" aria-label="Loading pitch deck application">
    <div style="text-align:center">
      <div style="width:4rem;height:4rem;border:4px solid #60a5fa;border-top-color:transparent;border-radius:9999px;animation:spin 1s linear infinite;margin:0 auto 1rem" aria-hidden="true"></div>
      <p style="color:rgba(255,255,255,0.6)">Loading pitch deck...</p>
    </div>
  </div>

  <PitchDeck client:visible />

  <script>
    // Hide loading indicator once React mounts
    if (document.getElementById('pitch-loading')) {
      setTimeout(() => {
        const loader = document.getElementById('pitch-loading');
        if (loader) loader.style.display = 'none';
      }, 100);
    }
  </script>

  <style>
    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Skip link styling (WCAG 2.4.1) */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 0;
      background: #06b6d4;
      color: white;
      padding: 8px 16px;
      text-decoration: none;
      border-radius: 0 0 4px 0;
      font-weight: 600;
      z-index: 100;
      transition: top 0.3s;
    }

    .skip-link:focus {
      top: 0;
      outline: 3px solid #fbbf24;
      outline-offset: 2px;
    }

    /* Enhanced focus indicators for all interactive elements (WCAG 2.4.7) */
    *:focus-visible {
      outline: 3px solid #06b6d4;
      outline-offset: 2px;
    }

    /* Ensure text meets minimum size requirements */
    body {
      font-size: 16px;
      line-height: 1.5;
    }
  </style>
</body>
</html>

<style>
  /* Enable scrolling for mobile devices */
  :root {
    min-height: 100vh;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  @media (max-width: 768px) {
    :root {
      overflow-y: auto !important;
      height: auto;
    }
  }

  /* Reduced motion for users who prefer it (WCAG 2.3.3) */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    body {
      background: #000;
      color: #fff;
    }
  }
</style>
