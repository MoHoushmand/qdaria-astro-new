---
import BaseLayout from "../../layouts/BaseLayout.astro";

const title = 'QDaria Investor Pitch Deck - Series A Funding';
const description = 'QDaria Quantum+AI Platform - €12M Investment Opportunity';

const SLIDES = [
  { id: 0, title: '01. QDaria - Quantum+AI' },
  { id: 1, title: '02. Problem' },
  { id: 2, title: '03. Solution' },
  { id: 3, title: '04. Market Opportunity' },
  { id: 4, title: '05. Business Model' },
  { id: 5, title: '06. Revenue Streams' },
  { id: 6, title: '07. Product Portfolio' },
  { id: 7, title: '08. Technology Advantage' },
  { id: 8, title: '09. Traction & Milestones' },
  { id: 9, title: '10. Customer Validation' },
  { id: 10, title: '11. Go-to-Market Strategy' },
  { id: 11, title: '12. IP & Patents' },
  { id: 12, title: '13. Team' },
  { id: 13, title: '14. Financial Projections' },
  { id: 14, title: '15. Competitive Analysis' },
  { id: 15, title: '16. Risk & Mitigation' },
  { id: 16, title: '17. Investor FAQ' },
  { id: 17, title: '18. Call to Action' },
];
---

<BaseLayout title={title} description={description}>
  <div class="flex min-h-screen" style="background: #000212">
    
    <!-- Sidebar -->
    <aside id="sidebar" class="w-80 bg-gradient-to-b from-slate-900 to-slate-800 border-r border-cyan-400/20 shadow-2xl flex flex-col h-screen fixed left-0 top-0 z-50 transition-transform duration-300">
      <div class="p-6 border-b border-cyan-400/20">
        <div class="flex items-center justify-between">
          <img src="/icons/qdaria/QDlogomark.svg" alt="QDaria" class="h-8">
          <button id="closeSidebar" class="text-white hover:bg-white/10 p-2 rounded">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>
        </div>
        <div class="mt-3 h-2 bg-cyan-500/30 rounded-full overflow-hidden">
          <div id="progress" class="h-full bg-gradient-to-r from-cyan-400 to-orange-400 transition-all" style="width: 5.56%"></div>
        </div>
      </div>
      
      <div class="flex-1 overflow-y-auto p-4">
        <h3 class="text-sm font-semibold mb-3 text-white">Slides</h3>
        <div id="slideList" class="space-y-2">
          {SLIDES.map((slide) => (
            <button
              data-slide={slide.id}
              class="slide-btn w-full text-left p-3 rounded transition-all text-gray-300 hover:bg-white/10 hover:text-white"
            >
              {slide.title}
            </button>
          ))}
        </div>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 flex flex-col ml-80 transition-all duration-300" id="mainContent">
      <header class="backdrop-blur-sm border-b px-6 py-4 sticky top-0 z-40" style="background: rgba(0, 2, 18, 0.95); border-color: rgba(4, 163, 255, 0.2)">
        <div class="flex items-center justify-between">
          <div class="flex items-center gap-4">
            <button id="openSidebar" class="text-white hover:bg-white/10 p-2 rounded hidden">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
              </svg>
            </button>
            <img src="/icons/qdaria/QDwordmark2.svg" alt="QDaria" class="h-12">
          </div>
        </div>
      </header>

      <div class="flex-1 p-6">
        <div id="slideContent" class="max-w-6xl mx-auto text-white">
          <h1 class="text-5xl font-bold mb-6">QDaria - Quantum+AI Platform</h1>
          <p class="text-xl text-gray-300">Series A Funding - €12M Investment Opportunity</p>
        </div>
      </div>

      <footer class="backdrop-blur-sm border-t px-6 py-4 sticky bottom-0 z-40" style="background: rgba(0, 2, 18, 0.95); border-color: rgba(4, 163, 255, 0.2)">
        <div class="flex items-center justify-between">
          <button
            id="prevBtn"
            class="px-4 py-2 border border-cyan-400/30 rounded hover:bg-white/10 text-white transition-all"
          >
            ← Previous
          </button>

          <div class="text-sm text-center text-white/70">
            <div id="slideTitle" class="font-semibold text-white/90">01. QDaria - Quantum+AI</div>
            <div id="slideNumber">Slide 1 of 18</div>
          </div>

          <button
            id="nextBtn"
            class="px-4 py-2 border border-cyan-400/30 rounded hover:bg-white/10 text-white transition-all"
          >
            Next →
          </button>
        </div>
      </footer>
    </main>
  </div>

  <script>
    let currentSlide = 0;
    const totalSlides = 18;
    const slides = [
      { id: 0, title: '01. QDaria - Quantum+AI' },
      { id: 1, title: '02. Problem' },
      { id: 2, title: '03. Solution' },
      { id: 3, title: '04. Market Opportunity' },
      { id: 4, title: '05. Business Model' },
      { id: 5, title: '06. Revenue Streams' },
      { id: 6, title: '07. Product Portfolio' },
      { id: 7, title: '08. Technology Advantage' },
      { id: 8, title: '09. Traction & Milestones' },
      { id: 9, title: '10. Customer Validation' },
      { id: 10, title: '11. Go-to-Market Strategy' },
      { id: 11, title: '12. IP & Patents' },
      { id: 12, title: '13. Team' },
      { id: 13, title: '14. Financial Projections' },
      { id: 14, title: '15. Competitive Analysis' },
      { id: 15, title: '16. Risk & Mitigation' },
      { id: 16, title: '17. Investor FAQ' },
      { id: 17, title: '18. Call to Action' },
    ];

    function updateSlide(newSlide) {
      if (newSlide < 0 || newSlide >= totalSlides) return;
      
      currentSlide = newSlide;
      
      // Update UI
      document.getElementById('slideTitle').textContent = slides[currentSlide].title;
      document.getElementById('slideNumber').textContent = `Slide ${currentSlide + 1} of ${totalSlides}`;
      document.getElementById('progress').style.width = `${((currentSlide + 1) / totalSlides) * 100}%`;
      
      // Update button states
      document.getElementById('prevBtn').disabled = currentSlide === 0;
      document.getElementById('nextBtn').disabled = currentSlide === totalSlides - 1;
      
      // Update sidebar
      document.querySelectorAll('.slide-btn').forEach((btn, idx) => {
        if (idx === currentSlide) {
          btn.classList.add('bg-gradient-to-r', 'from-cyan-400/20', 'to-orange-400/20', 'text-white', 'border', 'border-cyan-400/30');
          btn.classList.remove('text-gray-300');
        } else {
          btn.classList.remove('bg-gradient-to-r', 'from-cyan-400/20', 'to-orange-400/20', 'text-white', 'border', 'border-cyan-400/30');
          btn.classList.add('text-gray-300');
        }
      });
      
      console.log('Slide updated to:', currentSlide);
    }

    // Navigation buttons
    document.getElementById('nextBtn').addEventListener('click', () => {
      console.log('Next clicked');
      updateSlide(currentSlide + 1);
    });

    document.getElementById('prevBtn').addEventListener('click', () => {
      console.log('Prev clicked');
      updateSlide(currentSlide - 1);
    });

    // Sidebar slide selection
    document.querySelectorAll('.slide-btn').forEach((btn) => {
      btn.addEventListener('click', () => {
        const slideId = parseInt(btn.getAttribute('data-slide'));
        console.log('Sidebar clicked:', slideId);
        updateSlide(slideId);
      });
    });

    // Sidebar toggle
    document.getElementById('closeSidebar').addEventListener('click', () => {
      const sidebar = document.getElementById('sidebar');
      const mainContent = document.getElementById('mainContent');
      const openBtn = document.getElementById('openSidebar');
      
      sidebar.style.transform = 'translateX(-100%)';
      mainContent.classList.remove('ml-80');
      mainContent.classList.add('ml-0');
      openBtn.classList.remove('hidden');
    });

    document.getElementById('openSidebar').addEventListener('click', () => {
      const sidebar = document.getElementById('sidebar');
      const mainContent = document.getElementById('mainContent');
      const openBtn = document.getElementById('openSidebar');
      
      sidebar.style.transform = 'translateX(0)';
      mainContent.classList.remove('ml-0');
      mainContent.classList.add('ml-80');
      openBtn.classList.add('hidden');
    });

    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight' || e.key === 'PageDown') {
        e.preventDefault();
        updateSlide(currentSlide + 1);
      } else if (e.key === 'ArrowLeft' || e.key === 'PageUp') {
        e.preventDefault();
        updateSlide(currentSlide - 1);
      }
    });

    // Initialize
    updateSlide(0);
  </script>
</BaseLayout>